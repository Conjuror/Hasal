language: python


matrix:
  include:
    - os: linux
      python: 2.7
      install:
        - ./mach
      script:
        - ./mach test-tidy --no-progress --all
    - os: osx
      sudo: required
      language: generic
      osx_image: xcode7.3
      env: TOXENV=py27
      install:
        - brew install python
        - pip install virtualenv
        - ./mach
      script:
        - ./mach test-tidy --no-progress --all
    - os: osx
      sudo: required
      language: generic
      osx_image: xcode7.3
      env: TOXENV=py27
      install:
        - brew install python
        - pip install virtualenv
      script:
        - ./bootstrap-mac.sh
        - cat bootstrap-mac.log


branches:
  only:
    - master

notifications:
  email: false
